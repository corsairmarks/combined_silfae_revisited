# possible section models:
# SHIPYARD_STARBASE_SECTION
# REFINERY_STARBASE_SECTION

# duplicate of shipyard, but swapped section
peepboop_shipyard = {
	icon = "GFX_starbase_shipyard"
	section = "PEEPBOOP_SHIPYARD_STARBASE_SECTION"
	construction_days = 180
	initial = no

	potential = {
		exists = owner
		owner = { has_technology = "tech_peepboop_starbase" }
	}

	resources = {
		category = starbase_modules
		cost = {
			alloys = 50
		}

		upkeep = {
			energy = 1
		}
	}

	station_modifier = {
		starbase_shipyard_capacity_add = 1
	}

	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = {
		weight = 20
		modifier = {
			factor = 100
			owner = {
				OR = {
					count_owned_starbase = {
						count = 0
						limit = { has_starbase_module = peepboop_shipyard }
					}
					AND = {
						num_starbases >= 4
						count_owned_starbase = {
							count < 2
							limit = { has_starbase_module = peepboop_shipyard }
						}
					}
					AND = {
						num_starbases >= 9
						count_owned_starbase = {
							count < 3
							limit = { has_starbase_module = peepboop_shipyard }
						}
					}
					AND = {
						num_starbases >= 15
						count_owned_starbase = {
							count < 4
							limit = { has_starbase_module = peepboop_shipyard }
						}
					}
				}
			}
		}
		modifier = {
			factor = 3
			has_starbase_module = peepboop_shipyard
			count_starbase_modules = {
				count < 2
				type = peepboop_shipyard
			}
		}
		modifier = {
			factor = 3
			has_starbase_module = peepboop_shipyard
			count_starbase_modules = {
				count < 4
				type = peepboop_shipyard
			}
		}
	}
}

# duplicate of solar_panel_network
peepboop_solar_panel_network = {
	icon = "GFX_solar_panel_network"
	section = "PEEPBOOP_REFINERY_STARBASE_SECTION"
	construction_days = 180
	initial = no

	potential = {
		exists = owner
		owner = {
			is_gestalt = yes
			has_technology = "tech_solar_panel_network"
			has_technology = "tech_peepboop_starbase"
		}
	}

	possible = {
		solar_system = {
			custom_tooltip = {
				fail_text = "requires_no_black_hole_or_dyson_sphere"
				NOR = {
					is_star_class = sc_black_hole
					has_megastructure = dyson_sphere_3
					has_megastructure = dyson_sphere_4
					has_megastructure = dyson_sphere_5
				}
			}
		}
	}

	show_in_tech = "tech_peepboop_starbase"

	resources = {
		category = starbase_modules
		cost = {
			alloys = 50
		}

		produces = {
			energy = 6
		}

		produces = {
			trigger = {
				exists = owner
				owner = {
					is_galactic_community_member = yes
				}
				OR = {
					is_active_resolution = "resolution_galacticstudies_astral_studies_network"
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
			energy = 6
		}
	}

	ai_build_at_chokepoint = no
	ai_weight = {
		weight = 15
	}
}